# Lab0.5
	为了熟悉使用qemu和gdb进行调试工作,使用gdb调试QEMU模拟的RISC-V计算机加电开始运行到执行应用程序的第一条指令（即跳转到0x80200000）这个阶段的执行过程，说明RISC-V硬件加电后的几条指令在哪里？完成了哪些功能？要求在报告中简要写出练习过程和回答。
王俊杰
# Lab1
##  理解内核启动中的程序入口操作
szm

##  完善中断处理 （需要编程）
+ 代码
szm
## 描述与理解中断流程
wjj
4
## 理解上下文切换机制
sscratch 寄存器通常用于保存陷阱处理过程中需要临时保存的值。csrw sscratch, sp的作用是将当前堆栈指针保存到 sscratch 寄存器，即保存当前的堆栈状态，确保在陷阱处理完后可以恢复到正常的执行流程。

而csrrw s0, sscratch, x0的作用是将 sscratch 寄存器的值保存到 s0，并将 sscratch 设置为0，sscratch为0意味着其正在进行陷阱处理，若在进行陷阱处理时若再出现陷阱，sscratch为0可以避免出现递归陷阱。

sstatus、sepc、sbadaddr、scause这四个寄存器分别保存当前处理器的状态信息、出现陷阱的指令地址、导致陷阱的错误地址、导致陷阱的原因。保存这些信息是为了在处理陷阱时可以确定导致异常的地址，以及确定陷阱的类型。并且保存下来了进入陷阱处理之前的指令地址以及当时的处理器状态，以便在处理后进行恢复。

所以在进行恢复时我们需要sstatus 和 sepc 两个寄存器的值，以确保处理器能够正确返回到异常发生前的状态。而sbadaddr、scause记录的是陷阱的信息，在陷阱处理后便派不上用场，可以不用恢复。

## 完善异常中断
wjj



